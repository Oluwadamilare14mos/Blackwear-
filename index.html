<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blackwear | Premium Fashion Store</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family: "Segoe UI", Arial, sans-serif; }
  body { background:#0f0f0f; color:#fff; }
  #mainContent { display:none; } /* hide until auth confirmed */
  header { background:#000; padding:14px 16px; display:flex; align-items:center; gap:10px; position:sticky; top:0; z-index:50; border-bottom:1px solid #1f1f1f; }
  .logo { color:#ff7f00; font-size:22px; font-weight:bold; letter-spacing:1px; }
  /* Add other styles as needed (products, banners, categories etc.) */
  #overlay { position:fixed; top:0; left:0; width:100%; height:100vh; background:rgba(0,0,0,.6); display:none; z-index:150; }
  #sideMenu { position:fixed; top:0; left:-270px; width:260px; height:100vh; background:#000; padding:20px; transition:.3s ease; z-index:200; border-right:1px solid #1f1f1f; }
</style>
</head>
<body>

<div id="overlay" onclick="closeMenu()"></div>

<!-- Side Menu -->
<div id="sideMenu">
  <div class="menu-header">
    <h3 id="menuWelcome">Welcome to Blackwear</h3>
    <div class="small-note" id="userEmailNote"></div>
  </div>
  <div class="menu-links">
    <a href="my-order.html">My Orders</a>
    <a href="wishlist.html">Wishlist</a>
    <a href="contact.html">Contact</a>
    <a href="tracking.html">Delivery Tracking</a>
    <a href="support.html">Support</a>
    <a href="settings.html">Settings</a>
    <a href="help.html">Help & Support</a>
    <a href="about.html">About Blackwear</a>
    <a href="store.html">Our Store</a>
    <a href="privacy.html">Privacy Policy</a>
    <a href="terms.html">Terms & Conditions</a>
    <a href="#" id="signOutBtn" style="display:none;">Sign Out</a>
  </div>
</div>

<!-- Loader -->
<div id="loader" style="display:flex;align-items:center;justify-content:center;height:100vh;">
  <p>Loading... ‚è≥</p>
</div>

<!-- Main content (hidden until auth check) -->
<div id="mainContent">
  <header>
    <div class="logo">Blackwear</div>
    <div class="search-wrap">
      <input type="text" placeholder="Search products..." id="searchInput" onkeyup="searchProducts()">
    </div>
    <div class="icons">
      <button class="icon-btn" onclick="toggleMenu()">‚ò∞</button>
      <button class="icon-btn" onclick="openCart()">üõí
        <span id="cartCount" class="cart-count">0</span>
      </button>
    </div>
  </header>

  <!-- Example content -->
  <section class="hero">
    <h1>Blackwear Collection</h1>
    <p>Premium fashion for every style</p>
  </section>

  <footer>
    ¬© 2025 Blackwear. All rights reserved.
  </footer>
</div>

<!-- Firebase JS -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBy0bIMp1ORV0UfLgKlxyr2V-I9mJjFb6o",
    authDomain: "blackwear-14a31.firebaseapp.com",
    projectId: "blackwear-14a31"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  const mainContent = document.getElementById('mainContent');
  const loader = document.getElementById('loader');
  const signOutBtn = document.getElementById('signOutBtn');
  const menuWelcome = document.getElementById('menuWelcome');
  const userEmailNote = document.getElementById('userEmailNote');

  // Auth check
  auth.onAuthStateChanged(user => {
    if (!user) {
      window.location.replace("entry.html");
    } else {
      loader.style.display = 'none';
      mainContent.style.display = 'block';
      signOutBtn.style.display = 'block';
      menuWelcome.textContent = `Welcome, ${user.displayName || 'User'}`;
      userEmailNote.textContent = user.email;
      loadCartCountForUser();
      loadProductsFromFirestore(); // implement your products logic here
    }
  });

  // Sign-out
  signOutBtn.addEventListener('click', async () => {
    await auth.signOut();
    window.location.replace('entry.html');
  });

  // Menu toggle
  function toggleMenu(){ document.getElementById('sideMenu').style.left='0'; document.getElementById('overlay').style.display='block'; }
  function closeMenu(){ document.getElementById('sideMenu').style.left='-270px'; document.getElementById('overlay').style.display='none'; }
  function openCart(){ window.location.href='cart.html'; }

  // Placeholder cart/products functions
  let cartCount = 0;
  function loadCartCountForUser(){ /* implement Firestore cart count */ }
  function loadProductsFromFirestore(){ /* implement Firestore products display */ }

  function searchProducts(){ /* implement search */ }
</script>

</body>
</html>
