<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Inbox</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body {
  background: #000;
  color: #fff;
  font-family: Arial, sans-serif;
  padding: 20px;
}
h1 {
  color: orange;
}
.message {
  background: #111;
  border: 1px solid #333;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 8px;
}
small {
  color: #aaa;
}
</style>
</head>

<body>

<h1>Inbox</h1>
<p id="status">Loading messages...</p>
<div id="messages"></div>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const messagesDiv = document.getElementById("messages");
const statusText = document.getElementById("status");

db.collection("support")
  .orderBy("createdAt", "desc")
  .onSnapshot(snapshot => {
    messagesDiv.innerHTML = "";
    statusText.style.display = "none";

    if (snapshot.empty) {
      statusText.style.display = "block";
      statusText.innerText = "No support messages yet.";
      return;
    }

    snapshot.forEach(doc => {
      const data = doc.data();
      messagesDiv.innerHTML += `
        <div class="message">
          <strong>${data.name || "No name"}</strong><br>
          <small>${data.email || ""} | ${data.phone || ""}</small>
          <p>${data.message}</p>
        </div>
      `;
    });
  }, error => {
    statusText.innerText = "Failed to load messages ‚ùå";
    console.error(error);
  });
</script>

</body>
</html>
