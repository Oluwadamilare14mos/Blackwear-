<!DOCTYPE html>  <html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
  <title>Support — Blackwear</title>    <!-- Fonts & Tailwind -->    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"/>  
  <script src="https://cdn.tailwindcss.com"></script>  
  <script>  
    tailwind.config = {  
      theme: {  
        extend: {  
          colors: { brand: "#ff7f00", dark: "#0b0b0b" },  
          fontFamily: { poppins: ["Poppins", "sans-serif"] },  
        },  
      },  
    };  
  </script>    <style>  
    body { background:#0b0b0b; font-family:Poppins, sans-serif; }  
  </style>  </head>  <body class="min-h-screen text-white">  <header class="p-5 bg-dark shadow-lg flex justify-between items-center">  
  <h1 class="text-2xl font-bold text-brand">Support</h1>  
  <a href="index.html" class="bg-brand text-black px-4 py-2 rounded-lg text-sm font-semibold">Back</a>  
</header>  <main class="p-5 max-w-4xl mx-auto space-y-8">    <!-- Intro -->    <section class="bg-[#111] p-6 rounded-xl border border-gray-700 shadow-lg">  
    <h2 class="text-xl font-semibold text-brand mb-2">How can we help you?</h2>  
    <p class="text-gray-400 text-sm">  
      Our support team is here to help with orders, payments, and delivery issues.  
    </p>  
  </section>    <!-- Support Form -->    <section class="bg-[#111] p-6 rounded-xl border border-gray-700 shadow-lg">  
    <h2 class="text-xl font-semibold text-brand mb-4">Send a Message</h2>  <form id="supportForm" class="space-y-4">  
  <input id="name" type="text" placeholder="Your Name" required  
    class="w-full bg-dark border border-gray-700 rounded-lg p-3 text-sm outline-none focus:border-brand">  
  <input id="email" type="email" placeholder="Your Email" required  
    class="w-full bg-dark border border-gray-700 rounded-lg p-3 text-sm outline-none focus:border-brand">  
  <input id="phone" type="tel" placeholder="Phone Number"  
    class="w-full bg-dark border border-gray-700 rounded-lg p-3 text-sm outline-none focus:border-brand">  
  <textarea id="message" rows="4" placeholder="Describe your issue..." required  
    class="w-full bg-dark border border-gray-700 rounded-lg p-3 text-sm outline-none focus:border-brand"></textarea>  
  <button type="submit"  
    class="w-full bg-brand text-black p-3 rounded-lg font-semibold hover:bg-orange-500 transition">  
    Submit Request  
  </button>  
</form>  

<p id="statusMsg" class="text-sm mt-3 text-center"></p>

  </section>  </main>  <footer class="text-center text-gray-500 text-xs p-6">  
  © 2025 Blackwear. All rights reserved.  
</footer>  <!-- Firebase -->  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>  <script>  
  // Initialize Firebase  
  const firebaseConfig = {  
    apiKey: "AIzaSyBy0bIMp1ORV0UfLgKlxyr2V-I9mJjFb6o",  
    authDomain: "blackwear-14a31.firebaseapp.com",  
    projectId: "blackwear-14a31"  
  };  
  firebase.initializeApp(firebaseConfig);  
  
  const db = firebase.firestore();  
  const auth = firebase.auth();  
  const form = document.getElementById("supportForm");  
  const status = document.getElementById("statusMsg");  
  const submitBtn = form.querySelector("button");  
  
  // Disable submit until auth is ready  
  submitBtn.disabled = true;  
  
  auth.onAuthStateChanged(async (user) => {  
    if (!user) {  
      try {  
        const anonUser = await auth.signInAnonymously();  
        console.log("✅ Signed in anonymously:", anonUser.user.uid);  
        return;  
      } catch (err) {  
        console.error("Auth error:", err);  
        status.textContent = "Auth error ❌";  
        status.className = "text-sm mt-3 text-red-500 text-center";  
        return;  
      }  
    }  
  
    console.log("✅ Auth ready:", user.uid);  
    submitBtn.disabled = false;  
  
    form.addEventListener("submit", async (e) => {  
      e.preventDefault();  
      status.textContent = "Sending message...";  
      status.className = "text-sm mt-3 text-gray-400 text-center";  
  
      try {  
        await db.collection("support").add({  
          userId: user.uid,  
          name: document.getElementById("name").value.trim(),  
          email: document.getElementById("email").value.trim(),  
          phone: document.getElementById("phone").value.trim(),  
          message: document.getElementById("message").value.trim(),  
          createdAt: firebase.firestore.FieldValue.serverTimestamp()  
        });  
  
        status.textContent = "Message sent successfully ✅";  
        status.className = "text-sm mt-3 text-green-500 text-center";  
        form.reset();  
      } catch (err) {  
        console.error("Firestore error:", err);  
        status.textContent = "Failed to send message ❌";  
        status.className = "text-sm mt-3 text-red-500 text-center";  
      }  
    });  
  });  
</script>  </body>  
</html>
